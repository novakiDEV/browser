<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!--
      CSP will be injected by script below: a relaxed dev CSP is used when served from localhost,
      otherwise a stricter production CSP is applied.
    -->
    <script>
      (function(){
        try {
          const isLocal = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
          const meta = document.createElement('meta');
          meta.httpEquiv = 'Content-Security-Policy';
          if (isLocal) {
            meta.setAttribute('content', "default-src 'self'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; connect-src *; frame-src https: http:; child-src https: http:");
          } else {
            meta.setAttribute('content', "default-src 'self'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; script-src 'self'; connect-src 'self' https:; frame-src https: http:; child-src https: http:");
          }
          document.head.appendChild(meta);
        } catch (e) {
          // If anything goes wrong, append a permissive CSP to avoid blocking dev.
          try {
            const fallback = document.createElement('meta');
            fallback.httpEquiv = 'Content-Security-Policy';
            fallback.setAttribute('content', "default-src 'self'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; connect-src *; frame-src https: http:; child-src https: http:");
            document.head.appendChild(fallback);
          } catch {}
        }
      })();
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cnvrs Browser Beta Edition</title>
  </head>
  <body>
    <div class="app-shell">
      <div id="sidebar" class="sidebar">
        <div class="search-container">
          <div class="search-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 513.749 513.749" width="16" height="16" class="search-svg">
              <path d="M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"/>
            </svg>
          </div>
          <input type="text" id="search-input" placeholder="Search..." class="search-input">
          <div class="url-overlay" id="url-overlay"></div>
        </div>
        <div class="bottombar-container">
          <div class="bottombar" tabindex="-1" aria-label="Bottom bar">
            <div id="status-center" class="status-center" aria-live="polite"></div>
          </div>
          <div id="loadbar" class="loadbar" aria-hidden="true"></div>
          <button class="info-button corner-button" id="bottom-left-button" title="Downloads" aria-label="Downloads">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="16" height="16" aria-hidden="true" focusable="false">
                <g>
                  <path d="M210.731,386.603c24.986,25.002,65.508,25.015,90.51,0.029c0.01-0.01,0.019-0.019,0.029-0.029l68.501-68.501   c7.902-8.739,7.223-22.23-1.516-30.132c-8.137-7.357-20.527-7.344-28.649,0.03l-62.421,62.443l0.149-329.109   C277.333,9.551,267.782,0,256,0l0,0c-11.782,0-21.333,9.551-21.333,21.333l-0.192,328.704L172.395,288   c-8.336-8.33-21.846-8.325-30.176,0.011c-8.33,8.336-8.325,21.846,0.011,30.176L210.731,386.603z"/>
                  <path d="M490.667,341.333L490.667,341.333c-11.782,0-21.333,9.551-21.333,21.333V448c0,11.782-9.551,21.333-21.333,21.333H64   c-11.782,0-21.333-9.551-21.333-21.333v-85.333c0-11.782-9.551-21.333-21.333-21.333l0,0C9.551,341.333,0,350.885,0,362.667V448   c0,35.346,28.654,64,64,64h384c35.346,0,64-28.654,64-64v-85.333C512,350.885,502.449,341.333,490.667,341.333z"/>
                </g>
              </svg>
          </button>
          <button class="info-button corner-button right" id="notifications-button" title="Notifications" aria-label="Notifications">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" aria-hidden="true" focusable="false">
              <g id="_01_align_center" data-name="01 align center">
                <path d="M23.259,16.2l-2.6-9.371A9.321,9.321,0,0,0,2.576,7.3L.565,16.35A3,3,0,0,0,3.493,20H7.1a5,5,0,0,0,9.8,0h3.47a3,3,0,0,0,2.89-3.8ZM12,22a3,3,0,0,1-2.816-2h5.632A3,3,0,0,1,12,22Zm9.165-4.395a.993.993,0,0,1-.8.395H3.493a1,1,0,0,1-.976-1.217l2.011-9.05a7.321,7.321,0,0,1,14.2-.372l2.6,9.371A.993.993,0,0,1,21.165,17.605Z"/>
              </g>
            </svg>
          </button>
        </div>
        </div>
      <div id="contentview" class="contentview">
        <webview
          id="main-webview"
          src="https://blank.page"
          nodeintegration="false"
          disablewebsecurity="false">
        </webview>
      </div>
    </div>

  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
  <script type="module" src="/src/renderer/entry.js"></script>
  </body>
</html>
